{"dependencies":[{"name":"./speedometer.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"JWtN7GrWQfwHXgytHZkCYHur2j4=","exportNames":["*"],"imports":1}},{"name":"./throttle.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":37,"index":81}}],"key":"BcsE82O2TtijQ3mU6T8j9Q2jtpw=","exportNames":["*"],"imports":1}},{"name":"../utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":82},"end":{"line":3,"column":32,"index":114}}],"key":"dGswK136diHRCgUa8xpQUn/UMbc=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"progressEventReducer\", {\n    enumerable: true,\n    get: function () {\n      return progressEventReducer;\n    }\n  });\n  Object.defineProperty(exports, \"progressEventDecorator\", {\n    enumerable: true,\n    get: function () {\n      return progressEventDecorator;\n    }\n  });\n  Object.defineProperty(exports, \"asyncDecorator\", {\n    enumerable: true,\n    get: function () {\n      return asyncDecorator;\n    }\n  });\n  var _speedometerJs = require(_dependencyMap[0], \"./speedometer.js\");\n  var speedometer = _interopDefault(_speedometerJs);\n  var _throttleJs = require(_dependencyMap[1], \"./throttle.js\");\n  var throttle = _interopDefault(_throttleJs);\n  var _utilsJs = require(_dependencyMap[2], \"../utils.js\");\n  var utils = _interopDefault(_utilsJs);\n  var progressEventReducer = function (listener, isDownloadStream) {\n    var freq = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\n    var bytesNotified = 0;\n    var _speedometer = (0, speedometer.default)(50, 250);\n    return (0, throttle.default)(e => {\n      var loaded = e.loaded;\n      var total = e.lengthComputable ? e.total : undefined;\n      var progressBytes = loaded - bytesNotified;\n      var rate = _speedometer(progressBytes);\n      var inRange = loaded <= total;\n      bytesNotified = loaded;\n      var data = {\n        loaded,\n        total,\n        progress: total ? loaded / total : undefined,\n        bytes: progressBytes,\n        rate: rate ? rate : undefined,\n        estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n        event: e,\n        lengthComputable: total != null,\n        [isDownloadStream ? 'download' : 'upload']: true\n      };\n      listener(data);\n    }, freq);\n  };\n  var progressEventDecorator = (total, throttled) => {\n    var lengthComputable = total != null;\n    return [loaded => throttled[0]({\n      lengthComputable,\n      total,\n      loaded\n    }), throttled[1]];\n  };\n  var asyncDecorator = fn => function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return utils.default.asap(() => fn(...args));\n  };\n});","lineCount":75,"map":[[12,2,5,0,"Object"],[12,8,5,0],[12,9,5,0,"defineProperty"],[12,23,5,0],[12,24,5,0,"exports"],[12,31,5,0],[13,4,5,0,"enumerable"],[13,14,5,0],[14,4,5,0,"get"],[14,7,5,0],[14,18,5,0,"get"],[14,19,5,0],[15,6,5,0],[15,13,5,0,"progressEventReducer"],[15,33,5,0],[16,4,5,0],[17,2,5,0],[18,2,34,0,"Object"],[18,8,34,0],[18,9,34,0,"defineProperty"],[18,23,34,0],[18,24,34,0,"exports"],[18,31,34,0],[19,4,34,0,"enumerable"],[19,14,34,0],[20,4,34,0,"get"],[20,7,34,0],[20,18,34,0,"get"],[20,19,34,0],[21,6,34,0],[21,13,34,0,"progressEventDecorator"],[21,35,34,0],[22,4,34,0],[23,2,34,0],[24,2,44,0,"Object"],[24,8,44,0],[24,9,44,0,"defineProperty"],[24,23,44,0],[24,24,44,0,"exports"],[24,31,44,0],[25,4,44,0,"enumerable"],[25,14,44,0],[26,4,44,0,"get"],[26,7,44,0],[26,18,44,0,"get"],[26,19,44,0],[27,6,44,0],[27,13,44,0,"asyncDecorator"],[27,27,44,0],[28,4,44,0],[29,2,44,0],[30,2,1,0],[30,6,1,0,"_speedometerJs"],[30,20,1,0],[30,23,1,0,"require"],[30,30,1,0],[30,31,1,0,"_dependencyMap"],[30,45,1,0],[31,2,1,0],[31,6,1,0,"speedometer"],[31,17,1,0],[31,20,1,0,"_interopDefault"],[31,35,1,0],[31,36,1,0,"_speedometerJs"],[31,50,1,0],[32,2,2,0],[32,6,2,0,"_throttleJs"],[32,17,2,0],[32,20,2,0,"require"],[32,27,2,0],[32,28,2,0,"_dependencyMap"],[32,42,2,0],[33,2,2,0],[33,6,2,0,"throttle"],[33,14,2,0],[33,17,2,0,"_interopDefault"],[33,32,2,0],[33,33,2,0,"_throttleJs"],[33,44,2,0],[34,2,3,0],[34,6,3,0,"_utilsJs"],[34,14,3,0],[34,17,3,0,"require"],[34,24,3,0],[34,25,3,0,"_dependencyMap"],[34,39,3,0],[35,2,3,0],[35,6,3,0,"utils"],[35,11,3,0],[35,14,3,0,"_interopDefault"],[35,29,3,0],[35,30,3,0,"_utilsJs"],[35,38,3,0],[36,2,5,7],[36,6,5,13,"progressEventReducer"],[36,26,5,33],[36,29,5,36],[36,38,5,36,"progressEventReducer"],[36,39,5,37,"listener"],[36,47,5,45],[36,49,5,47,"isDownloadStream"],[36,65,5,63],[36,67,5,78],[37,4,5,78],[37,8,5,65,"freq"],[37,12,5,69],[37,15,5,69,"arguments"],[37,24,5,69],[37,25,5,69,"length"],[37,31,5,69],[37,39,5,69,"arguments"],[37,48,5,69],[37,56,5,69,"undefined"],[37,65,5,69],[37,68,5,69,"arguments"],[37,77,5,69],[37,83,5,72],[37,84,5,73],[38,4,6,2],[38,8,6,6,"bytesNotified"],[38,21,6,19],[38,24,6,22],[38,25,6,23],[39,4,7,2],[39,8,7,8,"_speedometer"],[39,20,7,20],[39,23,7,23],[39,27,7,23,"speedometer"],[39,38,7,34],[39,39,7,34,"default"],[39,46,7,34],[39,48,7,35],[39,50,7,37],[39,52,7,39],[39,55,7,42],[39,56,7,43],[40,4,9,2],[40,11,9,9],[40,15,9,9,"throttle"],[40,23,9,17],[40,24,9,17,"default"],[40,31,9,17],[40,33,9,18,"e"],[40,34,9,19],[40,38,9,23],[41,6,10,4],[41,10,10,10,"loaded"],[41,16,10,16],[41,19,10,19,"e"],[41,20,10,20],[41,21,10,21,"loaded"],[41,27,10,27],[42,6,11,4],[42,10,11,10,"total"],[42,15,11,15],[42,18,11,18,"e"],[42,19,11,19],[42,20,11,20,"lengthComputable"],[42,36,11,36],[42,39,11,39,"e"],[42,40,11,40],[42,41,11,41,"total"],[42,46,11,46],[42,49,11,49,"undefined"],[42,58,11,58],[43,6,12,4],[43,10,12,10,"progressBytes"],[43,23,12,23],[43,26,12,26,"loaded"],[43,32,12,32],[43,35,12,35,"bytesNotified"],[43,48,12,48],[44,6,13,4],[44,10,13,10,"rate"],[44,14,13,14],[44,17,13,17,"_speedometer"],[44,29,13,29],[44,30,13,30,"progressBytes"],[44,43,13,43],[44,44,13,44],[45,6,14,4],[45,10,14,10,"inRange"],[45,17,14,17],[45,20,14,20,"loaded"],[45,26,14,26],[45,30,14,30,"total"],[45,35,14,35],[46,6,16,4,"bytesNotified"],[46,19,16,17],[46,22,16,20,"loaded"],[46,28,16,26],[47,6,18,4],[47,10,18,10,"data"],[47,14,18,14],[47,17,18,17],[48,8,19,6,"loaded"],[48,14,19,12],[49,8,20,6,"total"],[49,13,20,11],[50,8,21,6,"progress"],[50,16,21,14],[50,18,21,16,"total"],[50,23,21,21],[50,26,21,25,"loaded"],[50,32,21,31],[50,35,21,34,"total"],[50,40,21,39],[50,43,21,43,"undefined"],[50,52,21,52],[51,8,22,6,"bytes"],[51,13,22,11],[51,15,22,13,"progressBytes"],[51,28,22,26],[52,8,23,6,"rate"],[52,12,23,10],[52,14,23,12,"rate"],[52,18,23,16],[52,21,23,19,"rate"],[52,25,23,23],[52,28,23,26,"undefined"],[52,37,23,35],[53,8,24,6,"estimated"],[53,17,24,15],[53,19,24,17,"rate"],[53,23,24,21],[53,27,24,25,"total"],[53,32,24,30],[53,36,24,34,"inRange"],[53,43,24,41],[53,46,24,44],[53,47,24,45,"total"],[53,52,24,50],[53,55,24,53,"loaded"],[53,61,24,59],[53,65,24,63,"rate"],[53,69,24,67],[53,72,24,70,"undefined"],[53,81,24,79],[54,8,25,6,"event"],[54,13,25,11],[54,15,25,13,"e"],[54,16,25,14],[55,8,26,6,"lengthComputable"],[55,24,26,22],[55,26,26,24,"total"],[55,31,26,29],[55,35,26,33],[55,39,26,37],[56,8,27,6],[56,9,27,7,"isDownloadStream"],[56,25,27,23],[56,28,27,26],[56,38,27,36],[56,41,27,39],[56,49,27,47],[56,52,27,50],[57,6,28,4],[57,7,28,5],[58,6,30,4,"listener"],[58,14,30,12],[58,15,30,13,"data"],[58,19,30,17],[58,20,30,18],[59,4,31,2],[59,5,31,3],[59,7,31,5,"freq"],[59,11,31,9],[59,12,31,10],[60,2,32,0],[60,3,32,1],[61,2,34,7],[61,6,34,13,"progressEventDecorator"],[61,28,34,35],[61,31,34,38,"progressEventDecorator"],[61,32,34,39,"total"],[61,37,34,44],[61,39,34,46,"throttled"],[61,48,34,55],[61,53,34,60],[62,4,35,2],[62,8,35,8,"lengthComputable"],[62,24,35,24],[62,27,35,27,"total"],[62,32,35,32],[62,36,35,36],[62,40,35,40],[63,4,37,2],[63,11,37,9],[63,12,37,11,"loaded"],[63,18,37,17],[63,22,37,22,"throttled"],[63,31,37,31],[63,32,37,32],[63,33,37,33],[63,34,37,34],[63,35,37,35],[64,6,38,4,"lengthComputable"],[64,22,38,20],[65,6,39,4,"total"],[65,11,39,9],[66,6,40,4,"loaded"],[67,4,41,2],[67,5,41,3],[67,6,41,4],[67,8,41,6,"throttled"],[67,17,41,15],[67,18,41,16],[67,19,41,17],[67,20,41,18],[67,21,41,19],[68,2,42,0],[68,3,42,1],[69,2,44,7],[69,6,44,13,"asyncDecorator"],[69,20,44,27],[69,23,44,31,"fn"],[69,25,44,33],[69,29,44,38],[70,4,44,38],[70,13,44,38,"_len"],[70,17,44,38],[70,20,44,38,"arguments"],[70,29,44,38],[70,30,44,38,"length"],[70,36,44,38],[70,38,44,42,"args"],[70,42,44,46],[70,49,44,46,"Array"],[70,54,44,46],[70,55,44,46,"_len"],[70,59,44,46],[70,62,44,46,"_key"],[70,66,44,46],[70,72,44,46,"_key"],[70,76,44,46],[70,79,44,46,"_len"],[70,83,44,46],[70,85,44,46,"_key"],[70,89,44,46],[71,6,44,42,"args"],[71,10,44,46],[71,11,44,46,"_key"],[71,15,44,46],[71,19,44,46,"arguments"],[71,28,44,46],[71,29,44,46,"_key"],[71,33,44,46],[72,4,44,46],[73,4,44,46],[73,11,44,51,"utils"],[73,16,44,56],[73,17,44,56,"default"],[73,24,44,56],[73,25,44,57,"asap"],[73,29,44,61],[73,30,44,62],[73,36,44,68,"fn"],[73,38,44,70],[73,39,44,71],[73,42,44,74,"args"],[73,46,44,78],[73,47,44,79],[73,48,44,80],[74,2,44,80],[75,0,44,81],[75,3]],"functionMap":{"names":["<global>","progressEventReducer","throttle$argument_0","progressEventDecorator","<anonymous>","asyncDecorator","utils.asap$argument_0"],"mappings":"AAA;oCCI;kBCI;GDsB;CDC;sCGE;UCG;IDI;CHC;8BKE,QD,wBE,iBF,CJ"},"hasCjsExports":false},"type":"js/module"}]}